{% extends 'expenses/settings_base.html' %}

{% block settings_content %}
<!-- Mobile Settings Home (List View) -->
<div class="d-md-none fade-in">
    <h2 class="h4 fw-bold mb-4">Settings</h2>

    <!-- SUBSCRIPTION -->
    <small class="text-muted text-uppercase fw-bold px-1 mb-2 d-block" style="font-size: 0.75rem;">Subscription</small>
    <div class="list-group mb-4 shadow-sm rounded-3 overflow-hidden border-0">
        <a href="{% url 'pricing' %}" class="list-group-item list-group-item-action border-0 d-flex justify-content-between align-items-center py-3" onclick="showLoader()">
            <div class="d-flex align-items-center">
                <i class="bi bi-star-fill me-3 text-warning fs-5"></i>
                <div class="d-flex flex-column">
                    <span class="fw-medium">Current Plan</span>
                    <span class="small text-muted">
                        {{ user.profile.get_tier_display }}
                        {% if user.profile.is_pro %}<span class="badge bg-warning text-dark ms-1">PRO</span>{% endif %}
                    </span>
                </div>
            </div>
            {% if not user.profile.is_pro %}
                <span class="badge bg-primary rounded-pill">Upgrade</span>
            {% else %}
                <i class="bi bi-chevron-right text-muted small"></i>
            {% endif %}
        </a>
    </div>

    <!-- TOOLS -->
    <small class="text-muted text-uppercase fw-bold px-1 mb-2 d-block" style="font-size: 0.75rem;">Tools</small>
    <div class="list-group mb-4 shadow-sm rounded-3 overflow-hidden border-0">
        <a href="{% url 'income-list' %}" class="list-group-item list-group-item-action border-0 d-flex justify-content-between align-items-center py-3" onclick="showLoader()">
            <div class="d-flex align-items-center">
                <i class="bi bi-wallet2 me-3 text-primary fs-5"></i>
                <span class="fw-medium">Income</span>
            </div>
            <i class="bi bi-chevron-right text-muted small"></i>
        </a>
        <a href="{% url 'budget' %}" class="list-group-item list-group-item-action border-0 d-flex justify-content-between align-items-center py-3" onclick="showLoader()">
            <div class="d-flex align-items-center">
                <i class="bi bi-pie-chart me-3 text-info fs-5"></i>
                <span class="fw-medium">Budget Dashboard</span>
            </div>
            <i class="bi bi-chevron-right text-muted small"></i>
        </a>
        <a href="{% url 'category-list' %}" class="list-group-item list-group-item-action border-0 d-flex justify-content-between align-items-center py-3" onclick="showLoader()">
            <div class="d-flex align-items-center">
                <i class="bi bi-tags me-3 text-warning fs-5"></i>
                <span class="fw-medium">Categories</span>
            </div>
            <i class="bi bi-chevron-right text-muted small"></i>
        </a>
        <a href="{% url 'upload' %}" class="list-group-item list-group-item-action border-0 d-flex justify-content-between align-items-center py-3" onclick="showLoader()">
            <div class="d-flex align-items-center">
                <i class="bi bi-cloud-arrow-up me-3 text-indigo fs-5"></i>
                <span class="fw-medium">Upload Data</span>
            </div>
            <i class="bi bi-chevron-right text-muted small"></i>
        </a>
    </div>

    <!-- ACCOUNT -->
    <small class="text-muted text-uppercase fw-bold px-1 mb-2 d-block" style="font-size: 0.75rem;">Account</small>
    <div class="list-group mb-4 shadow-sm rounded-3 overflow-hidden border-0">
        <a href="{% url 'currency-settings' %}" class="list-group-item list-group-item-action border-0 d-flex justify-content-between align-items-center py-3" onclick="showLoader()">
            <div class="d-flex align-items-center">
                <i class="bi bi-coin me-3 text-success fs-5"></i>
                <span class="fw-medium">Currency</span>
            </div>
            <i class="bi bi-chevron-right text-muted small"></i>
        </a>
        <a href="{% url 'profile-settings' %}" class="list-group-item list-group-item-action border-0 d-flex justify-content-between align-items-center py-3" onclick="showLoader()">
            <div class="d-flex align-items-center">
                <i class="bi bi-person-badge me-3 text-secondary fs-5"></i>
                <span class="fw-medium">Profile</span>
            </div>
            <i class="bi bi-chevron-right text-muted small"></i>
        </a>
    </div>

    <!-- SUPPORT -->
    <small class="text-muted text-uppercase fw-bold px-1 mb-2 d-block" style="font-size: 0.75rem;">Support</small>
    <div class="list-group mb-4 shadow-sm rounded-3 overflow-hidden border-0">
        <a href="{% url 'home' %}?tour=true" class="list-group-item list-group-item-action border-0 d-flex justify-content-between align-items-center py-3" onclick="showLoader()">
            <div class="d-flex align-items-center">
                <i class="bi bi-question-circle me-3 text-info fs-5"></i>
                <span class="fw-medium">Tutorial</span>
            </div>
            <i class="bi bi-chevron-right text-muted small"></i>
        </a>
        <a href="{% url 'contact' %}" class="list-group-item list-group-item-action border-0 d-flex justify-content-between align-items-center py-3" onclick="showLoader()">
            <div class="d-flex align-items-center">
                <i class="bi bi-envelope me-3 text-muted fs-5"></i>
                <span class="fw-medium">Contact Support</span>
            </div>
            <i class="bi bi-chevron-right text-muted small"></i>
        </a>
    </div>

    <!-- DANGER ZONE -->
    <small class="text-muted text-uppercase fw-bold px-1 mb-2 d-block text-danger opacity-75" style="font-size: 0.75rem;">Danger Zone</small>
    <div class="list-group mb-4 shadow-sm rounded-3 overflow-hidden border-0">
        <a href="{% url 'account-delete' %}" class="list-group-item list-group-item-action border-0 d-flex justify-content-between align-items-center py-3 text-danger" onclick="showLoader()">
            <div class="d-flex align-items-center">
                <i class="bi bi-person-x me-3 fs-5"></i>
                <span class="fw-medium">Delete Account</span>
            </div>
            <i class="bi bi-chevron-right text-danger opacity-50 small"></i>
        </a>
    </div>
</div>

<!-- Desktop Placeholder (Visible only when sidebar is present) -->
<div class="d-none d-md-block text-center py-5 fade-in">
    <div class="py-5">
        <i class="bi bi-gear-wide-connected display-1 text-muted opacity-25 mb-4"></i>
        <h2 class="h4 fw-bold text-muted">Settings</h2>
        <p class="text-muted">Select an option from the sidebar to manage your preferences.</p>
    </div>
</div>
{% endblock %}
